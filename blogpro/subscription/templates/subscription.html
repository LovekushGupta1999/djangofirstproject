{% extends "base.html" %}
{% block title %}<title>Subscription Plans</title>{% endblock %}
{% load static %}

{% block content %} 
<hr class="my-5">
{% if payment %}
<section class="container my-5">
  <div class="text-center mb-5">
    <h2 class="display-5">Pay Now</h2>
    <p class="lead">Flexible subscription options to suit your learning pace</p>
  </div>
  <div class="row text-center">
 <div class="col-md-0 mb-4">
      <div class="card w-50 h-100 shadow-sm border-success mx-auto">
        <div class="card-header bg-success text-white">
          <h4 class="my-0">{{key.text}}</h4>
        </div>
        <div class="card-body">
          <h1 class="card-title pricing-card-title">₹{{amount}} <small class="text-muted">/{{key.text}}</small></h1>
          <ul class="list-unstyled mt-3 mb-4">
            <li>{{key.text1}}</li>
            <li>{{key.text2}}</li>
            <li>{{key.text3}}</li>
          </ul>
          {% comment %} {% url 'buy_plan' '6-month' %} {% endcomment %}
            <form action="{% url 'payment-status' %}" method="post">
                    {% csrf_token %}
                    <script
                            src="https://checkout.razorpay.com/v1/checkout.js"
                            data-key="rzp_test_pr99iascS1WRtU"
                            data-amount="{{ payment.amount }}"
                            data-currency="{{ payment.currency }}"
                            data-order_id="{{ payment.id }}"
                            data-buttontext="Pay with Razorpay"
                            data-name="Neeraj Ecom"
                            data-description="Thanku for visiting My Site"
                            data-image="https://example.com/your_logo.jpg"
                            data-prefill.name="Neeraj Kumar"
                            data-prefill.email="Neeraj.Patel@gmail.com"
                            data-theme.color="#F37254"
                    ></script>
                    <input type="hidden" custom="Hidden Element" name="hidden">
                </form>
        </div>
      </div>
    </div>
 </div>
</section>
{% else %}

<!-- Subscription Plans Section -->
<section class="container my-5">
  <div class="text-center mb-5">
    <h2 class="display-5">Choose Your Learning Plan</h2>
    <p class="lead">Flexible subscription options to suit your learning pace</p>
  </div>
  <div class="row text-center">

    <!-- 3-Month Plan -->
    <div class="col-md-4 mb-4">
      <div class="card h-100 shadow-sm">
        <div class="card-header bg-primary text-white">
          <h4 class="my-0">3-Month Plan</h4>
        </div>
        <div class="card-body">
          <h1 class="card-title pricing-card-title">₹2900 <small class="text-muted">/ 3 months</small></h1>
          <ul class="list-unstyled mt-3 mb-4">
            <li>Access to beginner courses</li>
            <li>Monthly Q&A sessions</li>
            <li>Email support</li>
          </ul>
          {% comment %} <a href="" class="btn btn-primary"></a> {% endcomment %}
{% comment %}  {% endcomment %}
            <form action="{% url 'payment' %}" method="post">
                {% csrf_token%}
                <input type="text" name="data" value="3-Month Plan" hidden>
                <input type="text" name="data1" value="Access to beginner courses" hidden>
                <input type="text" name="data2" value="Monthly Q&A sessions" hidden>
                <input type="text" name="data3" value="Email support" hidden>
                <input type="number" name="amount" value="2900" hidden>
                <button class="btn btn-primary">Buy Plan </button>
            </form>

        </div>
      </div>
    </div>

    <!-- 6-Month Plan -->
    <div class="col-md-4 mb-4">
      <div class="card h-100 shadow-sm border-success">
        <div class="card-header bg-success text-white">
          <h4 class="my-0">6-Month Plan</h4>
        </div>
        <div class="card-body">
          <h1 class="card-title pricing-card-title">₹4900 <small class="text-muted">/ 6 months</small></h1>
          <ul class="list-unstyled mt-3 mb-4">
            <li>All beginner & intermediate courses</li>
            <li>Bi-weekly Q&A + live workshops</li>
            <li>Priority email support</li>
          </ul>
          {% comment %} {% url 'buy_plan' '6-month' %} {% endcomment %}
            <form action="{% url 'payment' %}" method="post">
                {% csrf_token%}
                <input type="text" name="data" value="6-Month Plan" hidden>
                <input type="text" name="data1" value="All beginner & intermediate courses" hidden>
                <input type="text" name="data2" value="Bi-weekly Q&A + live workshops" hidden>
                <input type="text" name="data3" value="Priority Email support" hidden>
                <input type="number" name="amount" value="4900" hidden>
                <button class="btn btn-primary">Buy Plan </button>
            </form>
        </div>
      </div>
    </div>

    <!-- 1-Year Plan -->
    <div class="col-md-4 mb-4">
      <div class="card h-100 shadow-sm border-warning">
        <div class="card-header bg-warning text-white">
          <h4 class="my-0">1-Year Plan</h4>
        </div>
        <div class="card-body">
          <h1 class="card-title pricing-card-title">$89 <small class="text-muted">/ year</small></h1>
          <ul class="list-unstyled mt-3 mb-4">
            <li>Full course access (all levels)</li>
            <li>1-on-1 mentorship sessions</li>
            <li>Certificate of completion</li>
            <li>Exclusive resources & projects</li>
          </ul>
            <form action="{% url 'payment' %}" method="post">
                {% csrf_token%}
                <input type="text" name="data" value="1-Year Plan" hidden>
                <input type="text" name="data1" value="Full course access (all levels)" hidden>
                <input type="text" name="data2" value="1-on-1 mentorship sessions" hidden>
                <input type="text" name="data3" value="Exclusive resources & projects" hidden>
                <input type="number" name="amount" value="8900" hidden>
                <button class="btn btn-primary">Buy Plan </button>
            </form>
        </div>
      </div>
    </div>

  </div>
</section>
{% endif %}

{% endblock %}
